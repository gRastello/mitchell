\begin{center}
  \begin{tikzcd}[sep=huge]
    X \ar[drr, "x", bend left] \ar[ddr, "x"', bend right] \ar[dr, dashed, ""] & & \\
    & P \ar[r, tail, "v"] \ar[d, tail, "u"'] & A \ar[d, tail, "\vvectormini{1_A}{g}"] \\
    & A \ar[r, tail, "\vvectormini{1_A}{f}"'] & A\times B
  \end{tikzcd}
\end{center}
